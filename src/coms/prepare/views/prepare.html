<div class="container" style="position: relative;">
		<button class="btn btn-success new-prepare" ng-click="newPrepare()">新建</button>
</div>
<div class="empty-nav empty-nav-custom"></div>
<div class="container" id="prepare-container">
	<div class="clearfix"></div>
	<div data-ng-include="'/coms/layout/views/res/res-header.html'"></div>

	<!--带目录显示-->
	<!--左侧目录-->
	<div class="col-md-3 catalog" ng-show="!VM.isList">
		<div class="catalog-header"></div>
		<div class="catalog-content">
			<div class="catalog-tip"><img src="assets/img/catalog/catalog-tip.png"></div>
			<div class="catalog-tree" data-ng-include="'/coms/tree/views/tree.html'"></div>
		</div>

	</div>
	<!--右侧资源列表-->
	<div ng-show="!VM.isList" class="col-md-9" data-ng-include="'/coms/prepare/views/prepare-content.html'"></div>

	<!--不带目录显示-->
	<div ng-show="VM.isList" data-ng-include="'/coms/prepare/views/prepare-content-list.html'"></div>
</div>


<script type="text/ng-template" id="modal-prepare.html">
	<div class="modal-body modal-prepare-body">
		<div class="modal-prepare-header">新建备课夹</div>
		<div class="modal-prepare-content">
			<div class="modal-inner-content">
				<div class="modal-catogry">
					<span>教材目录：</span>
					<span class="catogry-trigger" id="catogry-trigger" ng-click="treeTrigger()" >
						<span class="select-current" href="">{{ currentNode.label }}</span>
						<i class="icon-angle-down"></i>
						<i class="icon-angle-up"></i>
					</span>
					<div class="tree-embed" ng-show="showTree">
						<treecontrol id="tree-embed" click-outside="closeThis()" outside-if-not="tree-embed,catogry-trigger" class="tree-light" tree-model="treedata" on-selection="showSelected(node)" expanded-nodes="expandedNodes" options="opts">
					     {{node.label}}
					 	</treecontrol>
					</div>
					
				</div>
				<div class="modal-prepare-name">
					<span>备课夹名称：</span>
					<input class="prepare-name-input" ng-model="prepareName"/>
				</div>
			</div>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="prepareOK()">确定</button>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="prepareCancel()">取消</button>
		</div>	
	</div>
</script>

<script type="text/ng-template" id="move-prepare.html">
	<div class="modal-body modal-prepare-body">
		<div class="modal-prepare-header">移动到</div>
		<div class="modal-prepare-content">
			<div class="modal-inner-content">
				<div class="modal-catogry">
					<span>教材目录：</span>
					<span class="catogry-trigger" id="catogry-trigger" ng-click="treeTrigger()" >
						<span class="select-current" href="">{{ currentNode.label }}</span>
						<i class="icon-angle-down"></i>
						<i class="icon-angle-up"></i>
					</span>
					<div class="tree-embed" ng-show="showTree">
						<treecontrol id="tree-embed" click-outside="closeThis()" outside-if-not="tree-embed,catogry-trigger" class="tree-light" tree-model="treedata" on-selection="showSelected(node)" expanded-nodes="expandedNodes" options="opts">
					     {{node.label}}
					 	</treecontrol>
					</div>
				</div>
				<div class="modal-prepare-name">
					<span>备课夹名称：</span>
					<select ng-change="selectPrepare(currentPrepare)" ng-model="currentPrepare">
						<option ng-repeat="pp in prepares track by $index" ng-bind="pp.title" value="{{pp}}"></option>
					</select>
				</div>
			</div>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="moveOk()">确定</button>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="moveCancel()">取消</button>
		</div>	
	</div>
</script>

<script type="text/ng-template" id="copy-prepare.html">
	<div class="modal-body modal-prepare-body">
		<div class="modal-prepare-header">复制到</div>
		<div class="modal-prepare-content">
			<div class="modal-inner-content">
				<div class="modal-catogry">
					<span>教材目录：</span>
					<span class="catogry-trigger" id="catogry-trigger" ng-click="treeTrigger()" >
						<span class="select-current" href="">{{ currentNode.label }}</span>
						<i class="icon-angle-down"></i>
						<i class="icon-angle-up"></i>
					</span>
					<div class="tree-embed" ng-show="showTree">
						<treecontrol id="tree-embed" click-outside="closeThis()" outside-if-not="tree-embed,catogry-trigger" class="tree-light" tree-model="treedata" on-selection="showSelected(node)" expanded-nodes="expandedNodes" options="opts">
					     {{node.label}}
					 	</treecontrol>
					</div>
				</div>
				<div class="modal-prepare-name">
					<span>备课夹名称：</span>
					
				</div>
			</div>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="OK()">确定</button>
			<button class="btn btn-lg btn-success btn-custom-modal" ng-click="Cancel()">取消</button>
		</div>	
	</div>
</script>
